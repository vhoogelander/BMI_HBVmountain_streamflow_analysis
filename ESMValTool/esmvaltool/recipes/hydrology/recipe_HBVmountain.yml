# ESMValTool
# recipe_HBVmountain.yml
---
documentation:
  title: Generate forcing for the HBVmountain hydrological model
  description: |
    Recipe pre-processes  Climate forcing data
    for use in the HBVmountain hydrological model.


  authors:  #same authors as marrmot, because author names should be included in file esmvaltool/config-references.yml
    - kalverla_peter
    - camphuijsen_jaro
    - alidoost_sarah
      #hoogelander_vincent
  projects:
    - ewatercycle

  references:
    - acknow_project

preprocessors:
  daily: &daily
    extract_shape:
      # Lumped model: needs catchment-aggregated input data
      shapefile: ThunderCreek/Thundercreek.shp  # In aux (config-user.yml)
      method: contains
      crop: true

diagnostics:
  diagnostic_daily:
    description: HBVmountain input preprocessor for daily data
    additional_datasets:
            - {dataset: GFDL-CM4, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr1}
              # - {dataset: ERA5, project: OBS6, tier: 2, type: reanaly, version: 1}
          
    variables:
      tas: &var_daily
        mip: day
        start_year: 2050 #1986
        end_year: 2100  #2005 #2015
        preprocessor: daily 
      pr: *var_daily

    scripts:
      script:
        script: ~/ESMValTool/esmvaltool/diag_scripts/hydrology/HBVmountain.py 
        basin: ThunderCreek

