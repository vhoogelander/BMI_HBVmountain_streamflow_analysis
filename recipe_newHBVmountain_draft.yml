# ESMValTool
# recipe_HBVmountain.yml
---
documentation:
  title: Generate forcing for the HBVmountain hydrological model
  description: |
    Recipe pre-processes  Climate forcing data
    for use in the HBVmountain hydrological model.


  authors:  #same authors as marrmot, because author names should be included in file esmvaltool/config-references.yml
    - kalverla_peter
    - camphuijsen_jaro
    - alidoost_sarah
      #hoogelander_vincent
  projects:
    - ewatercycle

  references:
    - acknow_project

preprocessors:
  daily: &daily
    extract_shape:
      # Lumped model: needs catchment-aggregated input data
      shapefile: Conasauga/Conasauga.shp  # In aux (config-user.yml)
      method: contains
      crop: true

diagnostics:
  diagnostic_daily:
    description: HBVmountain input preprocessor for daily data
    additional_datasets:
            - {dataset: ACCESS-ESM1-5, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp126  ssp245  ssp370  ssp585
            - {dataset: AWI-CM-1-1-MR, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp126  ssp245  ssp370  ssp585
            - {dataset: BCC-CSM2-MR, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} # ssp126  ssp245  ssp370  ssp585
            - {dataset: CanESM5, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp119  ssp126  ssp245  ssp370  ssp434  ssp460  ssp534-over  ssp585
            - {dataset: CESM2-WACCM, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp126  ssp245  ssp370  ssp534-over  ssp585
            - {dataset: CNRM-CM6-1, project: CMIP6, exp: ssp585, ensemble: r1i1p1f2, grid: gr}  #ssp126  ssp245  ssp370  ssp585
            - {dataset: CNRM-CM6-1-HR, project: CMIP6, exp: ssp585, ensemble: r1i1p1f2, grid: gr} #ssp126  ssp245  ssp370  ssp585
            - {dataset: CNRM-ESM2-1, project: CMIP6, exp: ssp585,  ensemble: r1i1p1f2, grid: gr} #ssp119  ssp126  ssp245  ssp370  ssp434  ssp460  ssp534-over  ssp585
            - {dataset: EC-Earth3, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr} #ssp119  ssp126  ssp245  ssp370  ssp434  ssp534-over  ssp585
            - {dataset: EC-Earth3-CC, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr} #ssp245  ssp585
            - {dataset: EC-Earth3-Veg, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr} #ssp119  ssp126  ssp245  ssp370  ssp585
            - {dataset: EC-Earth3-Veg-LR, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr} #ssp119  ssp126  ssp245  ssp370  ssp585
            - {dataset: FGOALS-g3, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp119  ssp126  ssp245  ssp370  ssp434  ssp460  ssp534-over  ssp585
            - {dataset: GFDL-CM4, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr1} #ssp245  ssp585
            - {dataset: GFDL-ESM4, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr1} #ssp119  ssp126  ssp245  ssp370  ssp585
            - {dataset: HadGEM3-GC31-LL, project: CMIP6, exp: ssp585, ensemble: r1i1p1f3, grid: gn} #ssp126  ssp245  ssp585
            - {dataset: IITM-ESM, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp126  ssp245  ssp370  ssp585
            - {dataset: INM-CM4-8, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr1} #ssp126  ssp245  ssp370  ssp585
            - {dataset: INM-CM5-0, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr1} #ssp126  ssp245  ssp370  ssp585
            - {dataset: IPSL-CM6A-LR, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr} #ssp119  ssp126  ssp245  ssp370  ssp434  ssp460  ssp534-over  ssp585
            - {dataset: KACE-1-0-G, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr} #ssp126  ssp245  ssp370  ssp585
            - {dataset: KIOST-ESM, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gr1} #ssp126  ssp245  ssp585
            - {dataset: MIROC6, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp119  ssp126  ssp245  ssp370  ssp434  ssp460  ssp534-over  ssp585
            - {dataset: MIROC-ES2L, project: CMIP6, exp: ssp585, ensemble: r1i1p1f2, grid: gn} #ssp119  ssp126  ssp245  ssp370  ssp534-over  ssp585
            - {dataset: MPI-ESM1-2-HR, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp126  ssp245  ssp370  ssp585
            - {dataset: MPI-ESM1-2-LR, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp126  ssp245  ssp370  ssp585
            - {dataset: MRI-ESM2-0, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} # ssp119  ssp126  ssp245  ssp370  ssp434  ssp460  ssp534-over  ssp585
            - {dataset: NESM3, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp126  ssp245  ssp585
            - {dataset: NorESM2-LM, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp126  ssp245  ssp370  ssp585
            - {dataset: NorESM2-MM, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp126  ssp245  ssp370  ssp585
            - {dataset: TaiESM1, project: CMIP6, exp: ssp585, ensemble: r1i1p1f1, grid: gn} #ssp126  ssp245  ssp370  ssp585

            
              # - {dataset: ERA5, project: OBS6, tier: 2, type: reanaly, version: 1}
          
    variables:
      tas: &var_daily
        mip: day
        start_year: 2060
        end_year: 2061
        preprocessor: daily 
      pr: *var_daily

    scripts:
      script:
        script: ~/ESMValTool/esmvaltool/diag_scripts/hydrology/HBVmountain.py 
        basin: Conasauga

